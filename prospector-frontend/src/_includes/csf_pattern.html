<div id="container">
  <div id="panel">
    
  <div id="preheader">
    <table id="table-header">
        <tr>
          <td class='title'>Trip Patterns</td>
          <td>
            <a target="_blank" href="https://connectsf.org/">
              <img class="img-csf" src="https://connectsf.wpengine.com/wp-content/uploads/2016/07/connectsf-logo-color.png" alt="Connect SF">
            </a>
          </td>
        </tr>
      </table>
    
    <hr/>
    
    <div id="helpbar">
      <button class="ui mini right labeled icon color1 button"
              v-on:click="clickToggleHelp">
              <i class="help circle icon"></i>
              What is this?
      </button>
      &nbsp;
      <button class="ui mini right labeled icon color1 button"
              v-on:click="this.window.open('https://connectsf.org/','_blank')">
              <i class="arrow right icon"></i>
              Learn More
      </button>
    <hr/>
    </div>

      <div id="picker">
        <h5>CHOOSE SCENARIO</h5>
        <div>
          <button v-for="item in year_options"
                v-on:click="yrChanged(item.value)"
                class="ui tiny grey button"
                v-bind:class="{ active: item.value==selected_year, color2: item.value==selected_year }">
                ${item.text}
          </button>
        </div>

        <!--<h5>CHOOSE DIRECTION:</h5>
        <div>
          <button v-for="item in direction_options"
                v-on:click="directionChanged(item.value)"
                class="ui tiny grey button"
                v-bind:class="{ active: item.value==selected_direction, color2: item.value==selected_direction }">
                ${item.text}
          </button>
        </div>--> 

        <h5>CHOOSE TRAVEL PURPOSE:</h5>
        <div>
          <button v-for="item in importance_options"
                v-on:click="importanceChanged(item.value)"
                class="ui tiny grey button"
                v-bind:class="{ active: item.value==selected_importance, color2: item.value==selected_importance }">
                ${item.text}
          </button>
        </div> 
          
        <h5>CHOOSE MODE:</h5>
        <div>
          <button v-for="item in metric_options"
                v-on:click="metricChanged(item.value)"
                class="ui tiny grey button"
                style="margin-top:3px"
                v-bind:class="{ active: item.value==selected_metric, color2: item.value==selected_metric }">
                ${item.text}
          </button>
        </div> 

        <hr/>
        <h5>PROVIDE FEEDBACK:</h5>
        <form class="ui tiny equal width form" v-on:submit.prevent="handleSubmit">
          <div class="ui field">
            <textarea v-model="comment" class="fix" maxlength="200" rows="3"
            v-bind:disabled="submit_disabled==true"
            type="text" placeholder="Based on this data, what do you think are the cityâ€™s transportation needs? (800 characters)"></textarea>
          </div>
          <button class="ui button color2" type="submit"
          v-bind:class="{loading: submit_loading==true, disabled: submit_disabled==true}">Submit</button>
        </form>
      </div>
    </div>

    <hr/>
    <h5>REFERENCE MAP</h5>
    <div id="sfmap"></div>  

    <div class="logo">
      <hr/>
      <table id="table-logo"><tr>
        <td class="td-logo">
          <h4 class="agency"><b><a target="_blank" href="http://www.sfcta.org">SAN FRANCISCO COUNTY TRANSPORTATION AUTHORITY</a></b></h4>
        </td>
        <td class="td-logo">
          <a class="agency-link" target="_blank" href="http://www.sfcta.org">
            <img class="img-logo" src="/assets/sfcta-logo-144.png" width="80">
          </a>
        </td>
      </tr></table>
    </div>
  </div>

  <div id="helpbox" v-if="showHelp" class="ui segment">
  <div v-cloak> <!-- hides everything until Vue finished loading -->
        <h2 style="margin-bottom:0px;">ConnectSF: Trip Patterns</h2>
        <hr style="margin-bottom:5px;margin-top:5px"/>
        Use this tool to explore number of jobs accessible in each TAZ in 30 minutes auto or 45 minutes transit for ConnectSF.

        <!-- <ul>
        <li><b>Auto Level-of-Service (LOS)</b> grades road segments by vehicle delay with "A" describing free flow,
        and "F" describing bumper-to-bumper conditions.</li>
        <li><b>Transit Speed</b> reflects the average speeds including both when the buses are in motion as well as waiting at stops.</li>
        <li><b>Transit Reliability</b> shows the variability in transit travel speeds. A lower percentage means transit speeds are more consistent.</li>
        <li><b>Auto-Transit Speed Ratio</b> compares auto speeds to  to transit speeds, with lower values indicating where transit is more competitive with auto.
        If the ratio is 1 then auto and transit travel times are equal.</li>
        </ul> -->

        <h2 style="margin-top:10px; margin-bottom:0px;">How to use this map</h2>
        <hr style="margin-bottom:5px;margin-top:5px"/>
        <ul>
        <li>Select a scenario year and mode to display it at the TAZ level on the map.</li>
        <li>Select "Change" scenario to view the difference between future (2050) and base (2015) scenarios.</li>
        <li>Click on a colored TAZ on the map to see TAZ-specific details.</li>
        </ul>

        <div style="margin-top:20px;">
          <button v-on:click="clickToggleHelp" class="small ui right floated teal button">
            &nbsp;OK&nbsp;
          </button>

          <button v-on:click="this.window.open('/assets/data_accjobs.csv')"
                  class="small ui right labeled icon floated color1 button"
                  style="margin-right:5px">
                  <i class="icon download"></i>
                  Download data (.csv)
          </button>

          <button v-on:click="this.window.open('https://connectsf.org/','_blank')"
                  class="small ui right floated basic teal button"
                  style="margin-right:5px">
                  Learn more&hellip;
          </button>

        </div>
  </div>
  </div>
  
  <div id="chart_placeholder"></div>
  
  

</div>
