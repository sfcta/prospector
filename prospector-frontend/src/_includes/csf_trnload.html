<div id="container">

  <div id="slide-panel" v-bind:class="{ shrunken: isPanelHidden}">
    <div id="layer-widgets">
      <button class="ui tiny color1 icon button"
              v-on:click="clickedShowHide">
              <i class="angle double icon"
              v-bind:class="{ left: isPanelHidden, right: !isPanelHidden}"></i>
      </button>
    </div>
  </div> 
  
  <div id="panel" v-bind:class="{ shrunken: isPanelHidden}">
      <div id="preheader">
        <a target="_blank" href="https://connectsf.org/"><img src="https://connectsf.wpengine.com/wp-content/uploads/2016/07/connectsf-logo-color.png"  height="50" width="250" alt="Connect SF"/></a>
        <hr/>
        <h3 class="apptitle">Transit Loads</h3>
        <div id="helpbar">
            <button class="ui mini right labeled icon color1 button"
                    v-on:click="clickToggleHelp">
                    <i class="help circle icon"></i>
                    What is this?
            </button>
            &nbsp;
            <button class="ui mini right labeled icon color1 button"
                    v-on:click="this.window.open('https://connectsf.org/','_blank')">
                    <i class="arrow right icon"></i>
                    Learn More
            </button>
            <hr/>
        </div>

        <div id="picker">
          <h5>CHOOSE SCENARIO</h5>
          <div>
            <button v-for="item in year_options"
                  v-on:click="yrChanged(item.value)"
                  class="ui tiny grey button"
                  v-bind:class="{ active: item.value==selected_year, color2: item.value==selected_year }">
                  ${item.text}
            </button>
          </div>
          
          <h5>CHOOSE MEASURE</h5>
          <div>
            <button v-for="item in metric_options"
                  v-on:click="metricChanged(item.value)"
                  class="ui tiny grey button"
                  v-bind:class="{ active: item.value==selected_metric, color2: item.value==selected_metric }">
                  ${item.text}
            </button>
          </div>

          <h5>CHOOSE TIME PERIOD</h5>
          <div class="compact ui horizontal mini buttons">
            <button v-for="item in tplist"
                  v-on:click="tpChanged(item)"
                  class="ui grey button"
                  v-bind:class="{ active: item==selected_timep, color2: item==selected_timep }">
                  ${tpmap[item][0]}<br>${tpmap[item][1]}
            </button>
          </div>          

          <h5>CHOOSE OPERATOR</h5>
          <div>
            <button v-for="item in operator_options"
                  v-on:click="opChanged(item.value)"
                  class="ui tiny grey button"
                  v-bind:class="{ active: item.value==selected_op, color2: item.value==selected_op }">
                  ${item.text}
            </button>
          </div>  
          
          <hr/>
          <!--h5>CITYWIDE SUMMARY</h5>
          <table id="citywide">
            <tr><th>Measure/Year</th><th align="right">2010</th><th align="right">2050</th></tr>
            <tr><td>Population</td><td align="right">${aggData[0].pop}</td><td align="right">${aggData[1].pop}</td></tr>
            <tr><td>Jobs</td><td align="right">${aggData[0].tot}</td><td align="right">${aggData[1].tot}</td></tr>
            <tr><td>Jobs+Population</td><td align="right">${aggData[0].jobpop}</td><td align="right">${aggData[1].jobpop}</td></tr>
          </table-->
          
          <h5>MAP LAYERS</h5>
          <p>Add additional geographic data to the map.</p>
        
          <div v-for="item in extraLayers" class="ui toggle checkbox">
            <input type="checkbox" v-bind:value="item.view" v-model="addLayers">
            <label><h5>${item.name}</h5></label>
          </div>

          <br><br>
          <h5>YOUR FEEDBACK</h5>
          <form class="ui tiny equal width form" v-on:submit.prevent>
            <div class="field">
              <textarea v-model="comment" class="fix" maxlength="800" rows="3"
              type="text" placeholder="Based on this data, what do you think are the cityâ€™s transportation needs? (800 characters)"></textarea>
            </div>
            <button class="ui tiny button color2" type="submit">Submit</button>
          </form>

        </div>

      </div>

      <!--div id="header">
          <div id="stats-panel">
            <hr/>
            <div id="chartinfo"><h3 style="font-size: 22px;">${chartTitle}</h3></div>
            <div id="geoinfo"><h5>${chartSubtitle}</h5></div>
            <div id="longchart">
                <div class="ui active dimmer">
                  <div class="ui text loader">Loading</div>
                </div>
            </div>
          </div>
      </div-->
      
      <div class="logo">
            <hr/>
            <table id="table-logo"><tr>
              <td class="td-logo">
                <h4><b><a class="agency" target="_blank" href="http://www.sfcta.org">SAN FRANCISCO COUNTY TRANSPORTATION AUTHORITY</a></b></h4>
              </td>
              <td class="td-logo">
                <a class="agency-link" target="_blank" href="http://www.sfcta.org">
                  <img class="img-logo" src="/assets/sfcta-logo-144.png" width="80">
                </a>
              </td>
            </tr></table>
      </div>
  </div>
  

  <div id="helpbox" v-if="showHelp" class="ui segment">
  <div v-cloak> <!-- hides everything until Vue finished loading -->
        <h2 style="margin-bottom:0px;">ConnectSF: Jobs & Population</h2>
        <hr style="margin-bottom:5px;margin-top:5px"/>
        Use this tool to explore jobs and population measures for ConnectSF.

        <!--ul>
        <li><b>Auto Level-of-Service (LOS)</b> grades road segments by vehicle delay with "A" describing free flow,
        and "F" describing bumper-to-bumper conditions.</li>
        <li><b>Transit Speed</b> reflects the average speeds including both when the buses are in motion as well as waiting at stops.</li>
        <li><b>Transit Reliability</b> shows the variability in transit travel speeds. A lower percentage means transit speeds are more consistent.</li>
        <li><b>Auto-Transit Speed Ratio</b> compares auto speeds to  to transit speeds, with lower values indicating where transit is more competitive with auto.
        If the ratio is 1 then auto and transit travel times are equal.</li>
        </ul-->

        <h2 style="margin-top:10px; margin-bottom:0px;">How to use this map</h2>
        <hr style="margin-bottom:5px;margin-top:5px"/>
        <ul>
        <li>Select a scenario year and measure to display it at the TAZ level on the map.</li>
        <li>Select "Change" scenario to view the difference between future (2050) and base (2015) scenarios.</li>
        <li>Click on a colored TAZ on the map to see TAZ-specific details.</li>
        </ul>

        <div style="margin-top:20px;">
          <button v-on:click="clickToggleHelp" class="small ui right floated teal button">
            &nbsp;OK&nbsp;
          </button>

          <button v-on:click="this.window.open('/assets/connectsf_jobpop.zip')"
                  class="small ui right labeled icon floated color1 button"
                  style="margin-right:5px">
                  <i class="icon download"></i>
                  Download data (.zip)
          </button>

          <button v-on:click="this.window.open('https://connectsf.org/','_blank')"
                  class="small ui right floated basic teal button"
                  style="margin-right:5px">
                  Learn more&hellip;
          </button>

        </div>
  </div>
  </div>
  


  <div id="sfmap"></div>

</div>
