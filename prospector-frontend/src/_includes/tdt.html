<div id="container">
  <div id="panel">
  <!--     <div id="preheader">
  -->      <!-- <hr/> -->
    <h3 class="apptitle">TRAVEL DEMAND TOOL</h3>
    <div id="helpbar">
      <button class="ui mini right labeled icon greenish button"
        v-on:click="clickToggleHelp"><i class="help circle icon"></i>What is this?</button>
      &nbsp;
      <button class="ui mini right labeled icon greenish button"
        v-on:click="clickToggleInstructions"><i class="arrow right icon"></i>How to Use this Tool</button>
      <!--<hr/>-->
      <div class="ui divider"></div>
    </div>
    <!-- </div> -->
    <!--<h5>1. ADDRESS:</h5>-->
    
    <form class="ui tiny equal width form" v-on:submit.prevent>
      <div class="field">
        <input v-model="address" class="fix" append-icon= "icon taxi" v-on:blur="updateMap"
        
        type="text" placeholder="Search for address"/>
      </div>
    </form>
    <div class="ui mini yellow message">
      <b>Place Type: ${placetype_text}</b>
    </div>
    
    <!--<h5>2. LAND USE:</h5>-->
    <div class="ui divider"></div>
    <div id="vizbuttons" class="ui vertical buttons">
      <button class = "ui toggle button" v-on:click="pickRes"
      v-bind:class="{ active: isResidential, yellow: isResidential}"
      v-bind:style="residentialStyle"
      class="ui blueish button">Residential</button>
      <button class = "ui toggle button" v-on:click="pickOffice"
      v-bind:class="{ active: isOffice, yellow: isOffice }"
      v-bind:style="officeStyle"
      class="ui blueish button">Office</button>
      <button v-on:click="pickRet"
      v-bind:class="{ active: isRetail, yellow: isRetail }"
      v-bind:style="retailStyle"
      class="ui blueish button">Retail</button>
      <button v-on:click="pickRestaurant"
      v-bind:class="{ active: isRestaurant, yellow: isRestaurant }"
      v-bind:style="restaurantStyle"
      class="ui blueish button">Restaurant</button>
      <button v-on:click="pickSupermarket"
      v-bind:class="{ active: isSupermarket, yellow: isSupermarket }"
      v-bind:style="supermarketStyle"
      class="ui blueish button">Supermarket</button>
      <button v-on:click="pickHotel"
      v-bind:class="{ active: isHotel, yellow: isHotel }"
      v-bind:style="hotelStyle"
      class="ui blueish button">Hotel</button>
    </div>

    <br><br>

    <template v-if="isRetail">
      <table class="ui small very compact inverted grey table">
        <tr><th></th><th>Daily</th><th>PM Peak</th></tr>
        <tr><td>Retail (per sqft)</td><td>${ret_tripgen_daily}</td><td>${ret_tripgen_PM}</td></tr>
      </table>
      <form class="ui tiny equal width form" v-on:submit.prevent>
        <div class="field">
          <label>Retail</label>
          <input v-model.number="ret_sqft" v-on:keyup="updateMap" placeholder="Square feet of retail space" type="number" key="retail-footage">
        </div>
      </form>
      <br>
    </template>

    <template v-else-if="isOffice">
      <table class="ui small very compact inverted grey table">
        <tr><th></th><th>Daily</th><th>PM Peak</th></tr>
        <tr><td>Office (per sqft)</td><td>${off_tripgen_daily}</td><td>${off_tripgen_PM}</td></tr>
      </table>
      <form class="ui tiny equal width form" v-on:submit.prevent>
        <div class="field">
          <label>Office</label>
          <input v-model.number="off_sqft" v-on:keyup="updateMap" placeholder="Square feet of office space" type="number" key="office-footage">
        </div>
      </form>
      <br>
    </template>

    <template v-else-if="isResidential">
      <table class="ui small very compact inverted grey table">
        <tr><th></th><th>Daily</th><th>PM Peak</th></tr>
        <tr><td>Residential (per bedroom)</td><td>${res_tripgen_daily}</td><td>${res_tripgen_PM}</td></tr>
      </table>
      
      <form class="ui tiny equal width form" v-on:submit.prevent>
        <div class="fields">
          <div class="field">
            <label>Studios</label>
            <input v-model.number="num_studios" v-on:keyup="updateMap" placeholder="Number of studios" type="number" key="num-studios">
          </div>
          <div class="field">
            <label>1 Bedrooms</label>
            <input v-model.number="num_1bed" v-on:keyup="updateMap" placeholder="Number of 1 bedrooms" type="number" key="num-1bed">
          </div>
        </div>
        <div class="fields">
          <div class="field">
            <label>2 Bedrooms</label>
            <input v-model.number="num_2bed" v-on:keyup="updateMap" placeholder="Number of 2 bedrooms" type="number" key="num-2bed">
          </div>
          <div class="field">
            <label>3 Bedrooms</label>
            <input v-model.number="num_3bed" v-on:keyup="updateMap" placeholder="Number of 3 bedrooms" type="number" key="num-3bed">
          </div>
        </div>
      </form>
    </template>

    <template v-else-if="isRestaurant">
      <table class="ui small very compact inverted grey table">
        <!--<label>Restaurant Trip Generation</label>-->
          <tr><th></th><th>Daily</th><th>PM Peak</th></tr>
          <tr><td>Quality Sit-down (per sqft)</td><td>${rest_tripgen_daily}</td><td>${rest_tripgen_PM}</td></tr>
          <tr><td>Composite (per sqft)</td><td>${comp_tripgen_daily}</td><td>${comp_tripgen_PM}</td></tr>
      </table>
      
      <form class="ui tiny equal width form" v-on:submit.prevent>
        <div class="fields">
          <div class="field">
            <label>Quality sit-down: </label>
            <input v-model.number="rest_sqft" v-on:keyup="updateMap" placeholder="Square feet of quality sit-down restaurant" type = "number" key="rest-footage">
          </div>
          <div class="field">
            <label>Composite: </label>
            <input v-model.number="comp_sqft" v-on:keyup="updateMap" placeholder="Square feet of composite restaurant" type = "number" key="comp-footage">
          </div>
        </div>
      </form>
    </template>

    <template v-else-if="isSupermarket">  
      <table class="ui small very compact inverted grey table" v-on:submit.prevent>
        <tr><th></th><th>Daily</th><th>PM Peak</th></tr>
        <tr><td>Supermarket (per sqft)</td><td>${sup_tripgen_daily}</td><td>${sup_tripgen_PM}</td></tr>
      </table>
      <form class="ui tiny equal width form">
        <div class="field">
          <label>Supermarket</label>
          <input v-model.number="sup_sqft" v-on:keyup="updateMap" placeholder="Square feet of supermarket space" type = "number" key="sup-footage">
        </div>
      </form>    
      <br>
    </template>

    <template v-else-if="isHotel">
      <table class="ui small very compact inverted grey table" v-on:submit.prevent>
        <tr><th></th><th>Daily</th><th>PM Peak</th></tr>
        <tr><td>Hotel (per room)</td><td>${hot_tripgen_daily}</td><td>${hot_tripgen_PM}</td></tr>
      </table>
      <form class="ui tiny equal width form">
        <div class="field">
          <label>Hotel</label>
          <input v-model.number="hot_sqft" v-on:keyup="updateMap" placeholder="Number of hotel rooms" type = "number" key="sup-footage">
        </div>
      </form>     
      <br>
    </template>
                
    <div class="ui divider"></div>
    <div class="pickers">
      <!--<h5>3. MODE:</h5>-->
        <div class="three tiny ui buttons">
          <button class = "tiny ui grey icon button" v-on:click="pickAU" 
            v-bind:class="{ active: isAUActive, yellow: isAUActive}"><i class="icon car"></i>All Auto</button>
          <button class = "tiny ui grey icon button" v-on:click="pickTR"
            v-bind:class="{ active: isTRActive, yellow: isTRActive}"><i class="icon bus"></i>Transit</button>
          <button class = "tiny ui grey icon button" v-on:click="pickTaxiTNC"
            v-bind:class="{ active: isTaxiTNCActive, yellow: isTaxiTNCActive}"><i class="icon taxi"></i>TaxiTNC</button>
        </div>
        <div class="ui divider"></div>

      <!--<h5>4. TRIP PURPOSE:</h5>-->
        <div class="three tiny ui buttons">
          <button class = "tiny ui grey icon button" v-on:click="pickWork"
            v-bind:class="{ active: isWork, yellow: isWork}">Work</button>
          <button class = "tiny ui grey icon button" v-on:click="pickOther"
            v-bind:class="{ active: isOther, yellow: isOther}"> Non Work</button>
          <button class = "tiny ui grey icon button" v-on:click="pickAll"
            v-bind:class="{ active: isAll, yellow: isAll}"> Total</button>
        </div>
        <div class="ui divider"></div>

      <!--<h5>5. DIRECTION:</h5>-->
        <div class="three tiny ui buttons">
          <button class = "tiny ui grey icon button" v-on:click="pickInbound"
            v-bind:class="{ active: isInbound, yellow: isInbound}"><i class="icon compress"></i>Inbound</button>
          <button class = "tiny ui grey icon button" v-on:click="pickOutbound"
            v-bind:class="{ active: isOutbound, yellow: isOutbound}"><i class="icon expand"></i>Outbound</button>
          <button class = "tiny ui grey icon button" v-on:click="pickBoth"
            v-bind:class="{ active: isBoth, yellow: isBoth}"> Total</button>
        </div>
        <div class="ui divider"></div>

      <!--<h5>6. TIME PERIOD:</h5>-->
        <div class="two tiny ui buttons">
          <button class = "tiny ui grey icon button" v-on:click="pickDaily"
            v-bind:class="{ active: isDaily, yellow: isDaily}">Daily</button>
          <button class = "tiny ui grey icon button" v-on:click="pickPM"
            v-bind:class="{ active: isPM, yellow: isPM}"> PM Peak</button>
        </div>
        <div class="ui divider"></div>
              
      <!--<h5>7. DISTRIBUTION METHOD:</h5>-->
        <div class="three tiny ui buttons">
          <button class="tiny ui grey icon button" v-on:click="pickDistrict"
            v-bind:class="{active: isDistrict, yellow: isDistrict}">District</button>
          <button class="tiny ui grey icon button" v-on:click="pickPlaceType"
            v-bind:class="{active: isPlaceType, yellow: isPlaceType}">Place Type</button>
          <button class="tiny ui grey icon button" v-on:click="pickCity"
            v-bind:class="{active: isCity, yellow: isCity}">City</button>
        </div>
        <div class="ui divider"></div>
        
      <div id="download">
                <!-- <button v-on:click="updateMap" class="tiny ui right labeled icon floated greenish button" 
                style="margin-right:5px"><i class="icon arrow circle right"></i>Update
              </button>
              <!--<button v-on:click="clearAllInputs" class="tiny ui right labeled icon floated grey button" 
              style="margin-right:5px"><i class="icon ban"></i>Clear Inputs
            </button> -->
        <button v-on:click="resetAllInputs" class="tiny ui right labeled icon floated grey button" 
          style="margin-right:5px"><i class="icon ban"></i>Reset All</button>
      </div>
    </div>
    
    <div class="logo">
      <!--<hr/>-->
      <div class="ui divider"></div>
        <table id="table-logo"><tr>
          <!-- <td class="td-logo">
            <h4 class="agency"><b><a target="_blank" href="http://www.sfcta.org">SAN FRANCISCO COUNTY TRANSPORTATION AUTHORITY</a></b></h4>
          </td> -->
          <td class="td-logo">
            <a class="agency-link" target="_blank" href="http://www.sfcta.org">
              <img class="img-logo" src="/assets/sfcta-logo-144.png" width="80">
            </a>
          </td>
          <td class="planning-logo">
            <a class="agency-link" target="_blank" href="http://sf-planning.org/">
              <img class="img-logo" src="/assets/SFPlanning_Logo_Primary.png" width="180">
            </a>
          </td>
          
        </tr></table>
        
    </div>
  </div>

<!-- this stuff is all only on click
-->
  <div id="helpbox" v-if="showHelp" class="ui raised segment">
    <div v-cloak> 
      <h2 style="margin-bottom:0px;">Trip generation, distribution and mode share</h2>
      <hr style="margin-bottom:5px;margin-top:5px"/>
      This tool estimates  the number, type and common destinations of new trips that people would take to and from a new development project. The estimates are for daily and for extended weekday PM peak hour (3 to 7 p.m.). The following are some key terms:

      <ul>
        <li><b>Trip Generation</b> The number of person trips that the tool estimates people would take to (inbound) and from (outbound) a new development project, by trip purpose (work, non-work, or total). </li>
        <li><b>Ways People Travel</b> also known as mode split. The way or method people use to travel between destinations (e.g., walking, bicycling, transit, etc.). The tool estimates the percentages of transit, driving, or for-hire vehicle (i.e., taxi or transportation network company) people would take to (inbound) and from (outbound) a new development project, by trip purpose (work, non-work, or total). </li>
        <li><b>Commmon Origins and Destinations</b> also known as trip distribution. The number of trips people would take to (inbound) and from (outbound) a new development project and another place (e.g., downtown), by trip purpose (work, non-work, or total). The tool distributes transit, driving, or for-hire vehicle trips into eight San Francisco neighborhoods, east bay, north bay, and south bay.</li>
      </ul>

      <div style="margin-top:20px;">
        <button v-on:click="clickToggleHelp" class="small ui right floated violet button">
          &nbsp;OK&nbsp;
        </button>

        <button v-on:click="downloadCSV();"
          class="small ui right labeled icon floated yellow button"
          style="margin-right:5px">
          <i class="icon download"></i>
          Download data (.zip)
        </button>
      </div>
    </div>
  </div>

  <div id="instructionsBox" v-if="showInstructions" class="ui raised segment">
    <div v-cloak> 
      <h2 style="margin-bottom:0px;">How to Use This Tool</h2>
      <!-- <hr style="margin-bottom:5px;margin-top:5px"/> -->
      <ul>
        <li><b>Step 1: </b> Please enter the project address </li>
        <li><b>Step 2: </b> Please select any/all (multiple selections are permitted here) the land use/s proposed and enter the associated values (e.g., number of units, gross square footage, etc.). </li>
        <li><b>Step 3: </b> Please choose the way of travel (e.g., the tool will output all project generated transit person trips if you choose “Transit”).</li>
        <li><b>Step 4: </b> Please select a trip purpose (e.g., the tool will output all project generated “Transit” person trips whose trip purpose is “coming to and from work” if you choose the “Work” purpose). </li>
        <li><b>Step 5: </b> Please choose a trip direction (e.g., the tool will output all project generated “Transit” “Work” person trips that are traveling to the project site if you choose “Inbound”). </li>
        <li><b>Step 6: </b> Please select time period of interest (e.g., the tool will output all project generated “Transit” “Work” person trips in the “Inbound” during the PM peak period if “PM Peak” is selected).</li>
        <li><b>Step 7: </b> Click on “Update”. </li>
        <li><b>Step 8: </b> Move your mouse cursor over the various neighborhoods on the map interface to see the results of your selections displayed on the upper right corner. </li>
        <li><b>Step 9: </b> Click on the “Download Data” button in "What is this?" to retrieve the outputs in a spreadsheet form to save for your records. </li>
        <li><b>Step 10: </b> Click on “Clear Inputs” to start over.  </li></ul>

      <div style="margin-top:20px;">
        <button v-on:click="clickToggleInstructions" class="small ui right floated violet button">
          &nbsp;OK&nbsp;
        </button>
      </div>
    </div>
  </div>

  <div id="sfmap"></div>

</div>
